---
import { getCollection } from "astro:content"
import BaseLayout from "../../layouts/base.astro"
import PostItems from "../../components/post-items.astro"

const allPosts = await getCollection("post")
const sortedPosts = allPosts.sort(
    (a, b) =>
        new Date(b.data.publishDate).getTime() -
        new Date(a.data.publishDate).getTime()
)
---

<BaseLayout title="Posts">
    <h1>All Posts</h1>
    <PostItems posts={sortedPosts} />
</BaseLayout>
